<!DOCTYPE html>
<html lang="pt-BR">
<head>
  <meta charset="UTF-8" />
  <title>Painel do Professor ‚Äì PROF-SAFE24 PREMIUM</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />

  <!-- PWA / √çCONES -->
  <link rel="manifest" href="/static/manifest.json">
  <meta name="theme-color" content="#0a0014">
  <link rel="icon" type="image/png" sizes="192x192" href="/static/icons/icon-192.png">
  <link rel="apple-touch-icon" href="/static/icons/icon-192.png">

  <style>
    body{
      margin:0;
      font-family:system-ui,-apple-system,Segoe UI,Roboto,Ubuntu;
      background:#020617;
      color:#e5e7eb;
      display:flex;
      justify-content:center;
      min-height:100vh;
    }
    .wrap{width:100%;max-width:460px;padding:16px}
    .card{
      background:#020617;
      border-radius:20px;
      border:1px solid #1e293b;
      padding:16px;
      box-shadow:0 20px 40px rgba(0,0,0,.6);
    }
    .header{display:flex;justify-content:space-between;align-items:center;margin-bottom:12px}
    .title{font-weight:800;color:#fb923c}
    .sub{font-size:12px;color:#94a3b8}

    .clock{font-size:13px;color:#38bdf8}

    .sos-area{display:flex;justify-content:center;margin:16px 0}
    .sos{
      width:160px;height:160px;border-radius:50%;
      background:radial-gradient(circle,#ef4444,#991b1b);
      border:none;color:white;font-size:22px;
      font-weight:900;cursor:pointer;
      box-shadow:0 0 35px rgba(239,68,68,.9);
    }
    .sos span{display:block;font-size:11px;margin-top:6px}

    .section{margin-top:12px}
    label{font-size:11px;color:#94a3b8}
    input,textarea{
      width:100%;background:#020617;color:#e5e7eb;
      border:1px solid #1e293b;border-radius:10px;
      padding:8px;font-size:12px;margin-bottom:8px;
    }

    .grid{display:flex;flex-wrap:wrap;gap:6px}
    .occ{
      flex:1 1 48%;
      background:#020617;
      border:1px solid #1e293b;
      border-radius:999px;
      font-size:11px;color:#e5e7eb;
      padding:7px;cursor:pointer;
    }
    .occ.active{
      border-color:#fb923c;
      background:rgba(251,146,60,.15);
      box-shadow:0 0 0 2px rgba(251,146,60,.2) inset;
    }

    .actions{display:flex;flex-wrap:wrap;gap:8px;margin-top:10px}
    .btn{
      flex:1;border:none;border-radius:999px;
      padding:9px;font-size:12px;font-weight:600;
      cursor:pointer;
    }
    .btn-send{background:#fb923c;color:#111827}
    .btn-clear{background:#1e3a8a;color:#e5e7eb}
    .btn-reset{background:#991b1b;color:#fee2e2}
    .btn-exit{background:#020617;border:1px solid #334155;color:#e5e7eb}

    #status{
      margin-top:8px;font-size:11px;
      padding:8px;border-radius:10px;
      background:#020617;border:1px solid #1e293b;
      color:#38bdf8;
    }
  </style>
</head>

<body>
<div class="wrap">
  <div class="card">
    <div class="header">
      <div>
        <div class="title">PROF-SAFE24 PREMIUM</div>
        <div class="sub">PAINEL DO PROFESSOR</div>
      </div>
      <div class="clock" id="clock"></div>
    </div>

    <div class="sos-area">
      <button class="sos" onclick="enviarSOS()">
        SOS
        <span>EMERG√äNCIA</span>
      </button>
    </div>

    <div class="section">
      <label>Nome do professor (opcional)</label>
      <input id="prof">

      <label>Sala / Local</label>
      <input id="local">

      <label>Ocorr√™ncia r√°pida</label>
      <div class="grid">
        <button class="occ" onclick="setOcc(this,'Aluno passou mal')">üòµ Aluno passou mal</button>
        <button class="occ" onclick="setOcc(this,'Briga na sala')">‚ö†Ô∏è Briga na sala</button>
        <button class="occ" onclick="setOcc(this,'Invas√£o')">üö® Invas√£o</button>
        <button class="occ" onclick="setOcc(this,'Agress√£o ao professor')">‚õî Agress√£o</button>
        <button class="occ" onclick="setOcc(this,'Objeto suspeito')">üî™ Objeto suspeito</button>
        <button class="occ" onclick="setOcc(this,'Risco no port√£o')">üöß Risco no port√£o</button>
      </div>

      <label>Descri√ß√£o</label>
      <textarea id="desc"></textarea>

      <div class="actions">
        <button class="btn btn-send" onclick="enviar()">üö® Enviar</button>
        <button class="btn btn-clear" onclick="limpar()">üßπ Limpar</button>
        <button class="btn btn-reset" onclick="resetar()">‚ü≥ Reiniciar</button>
        <button class="btn btn-exit" onclick="sair()">‚èª Sair</button>
      </div>

      <div id="status">Pronto para uso.</div>
    </div>
  </div>
</div>

<script>
  // rel√≥gio
  setInterval(()=>{
    document.getElementById("clock").textContent =
      new Date().toLocaleTimeString("pt-BR",{hour12:false});
  },1000);

  function setOcc(btn,text){
    document.querySelectorAll(".occ").forEach(b=>b.classList.remove("active"));
    btn.classList.add("active");
    document.getElementById("desc").value=text;
    status("Ocorr√™ncia selecionada: "+text);
  }

  function status(t){
    document.getElementById("status").textContent=t;
  }

  function limpar(){
    document.querySelectorAll("input,textarea").forEach(e=>e.value="");
    document.querySelectorAll(".occ").forEach(b=>b.classList.remove("active"));
    status("Campos limpos.");
  }

  function enviarSOS(){
    status("SOS enviado. Central acionada.");
  }

  function enviar(){
    status("Alerta enviado com sucesso.");
  }

  function resetar(){
    window.location.replace("/professor");
  }

  // üîí SAIR SEMPRE VOLTA PARA O PR√ìPRIO PAINEL
  function sair(){
    window.location.replace("/professor");
  }

  // üîí TRAVA TOTAL DE NAVEGA√á√ÉO
  (function(){
    history.replaceState(null,"","/professor");
    window.addEventListener("popstate",()=>window.location.replace("/professor"));
  })();
</script>

</body>
</html>
